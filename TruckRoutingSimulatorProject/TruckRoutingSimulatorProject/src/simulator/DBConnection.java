package simulator;		// Δημιουργία του πακέτου αυτού προκειμένου να επιτευχθεί η καλύτερη ομαδοποίηση των κλάσεων ή των διεπαφών, το οποίο έχει ως αποτέλεσμα την επανάχρηση του κώδικα σε διαφορετικά προγράμματα στην περίπτωση που κληθεί το συγκεκριμένο πακέτο που βρίσκεται μέσα σε αυτό η συγκεκριμένη κλάση ή ένας αριθμός κλάσεων να εκτελεστεί. Πιο συγκεκριμένα το πακέτο με όνομα (simulator), υποδηλώνει ότι η κλάση αυτή βρίσκεται στην βασική υποδομή του προσωμοιωτή, διασφαλίζοντας την καλύτερη συντήρηση του κώδικα, διατηρώντας καθαρό το namespace του project που φτιάχνουμε καθώς όταν έχουμε σκοπό οι κλάσεις και οι μέθοδοι που βρίσκονται μέσα σε αυτό το πακέτο να είναι προσπελάσιμες κι έξω από αυτό το πακέτο, τότε δηλώνονται ως public (δημόσιας προσπέλασης) και ορατές σε οποιοδήποτε πακέτο. 

// Το JDBC(Java Database Connection) είναι το API της Java για ανάπτυξη εφαρμογών βάσεων δεδομένων επιτρέποντας την δυνατότητα επικοινωνίας με σχεσιακές βάσεις δεδομένων, την εκτέλεση εντολών SQL και τα αποτελέσματα που θα προκύψουν σπό την εκτέλεση εντολών στην βάση δεδομένων. Το αρχικό βήμα είναι η δημιουργία σύνδεσης μεταξύ της εφαρμογής της Java και της βάσης δεδομένων ενώ ταυτόχρονα εντός της εφαρμογής περιλαμβάνεται ένας JDBC κώδικας για την επίτευξη επικοινωνίας με την κλάση οδηγό JDBC driver αποκτώντας πλήρη δυνατότητα χειρισμού της βάσης δεδομένων(δημιουργία πίνακα, τροποποίηση πεδίων πίνακα, αποθήκευση δεδομένων και δημιουργία ερωτημάτων).
// Για την επίτευξη σύνδεσης στην βάση δεδομένων καθίσταται απαραίτητη η χρήση αυτών των imports.
import java.sql.Connection;			// Εδώ γίνεται import από το πακέτο java.sql η διεπαφή Connection για την σύνδεση της εφαρμογής με τον sql server, καθώς η διεπαφή(Interface) Connection της JDBC(Java Database Connectivity), όπου μέσω του Connection παρέχεται η δυνατότητα εκτέλεσης ερωτημάτων κι ενημερώσεων στην βάση δεδομένων. Πιο συγκεκριμένα η διεπαφή Connection αντιπροσωπεύει μία σύνδεση με μία συγκεκριμένη βάση δεδομένων όπου η επικοινωνία αυτή επιτυγχάνεται μέσω μεθόδων της Connection κι αφού πρώτα έχει δημιουργηθεί ένα αντικείμενο Connection.
import java.sql.DriverManager;		// Εδώ γίνεται import από το πακέτο java.sql η κλάση DriverManager, η οποία επεκτείνει την κλάση Object ενώ φορτώνει τους κατάλληλους οδηγούς JDBC δημιουργώντας σύνδεση με την Βάση Δεδομένων προς επικοινωνία. Επίσης η κλάση DriverManager χρησιμοποιείται προκειμένου να δώσει πληροφορίες για τους οδηγούς που είναι φορτωμένοι και βρίσκονται σε χρήση, παρέχει στατικές μεθόδους για την δημιουργία αντικειμένων που εφαρμόζουν την διεπαφή Connection κι αυτό θα πραγματοποιηθεί στην περίπτωση επίτευξης εκ νέου σύνδεσης σε έναν JDBC Driver όπου ζητείται από τον DriverManager η δημιουργία ενός νέου αντικειμένου.
import java.sql.SQLException;		// Εδώ γίνεται import από το πακέτο java.sql η κλάση SQLException, προκειμένου να αναγνωριστεί ως τύπος από τον compiler καθώς παρέχει πληροφορίες για το σφάλμα σύνδεσης ή την αδυναμία επικοινωνίας με την βάση δεδομένων ή άλλα παρόμοια σφάλματα (π.χ. λάθος URL, username, password, network issue), παρέχοντας πληροφορίες σχετικά με το σφάλμα διευκολύνοντας το debugging για τον προγραμματιστή, καθώς το SQLException είναι υποκλάση(subclass) της κλάσης Exception.

public class DBConnection {		// Η κλάση αυτή είναι υπεύθυνη μόνο για την διαχείριση σύνδεσης με την βάση δεδομένων, καθώς σύμφωνα με τις αρχές της αντικειμενοστραφούς σχεδιάσης, υποστηρίζεται το πρότυπο Single Responsibility Principle (SRP), καθιστώντας την ατομική αυτή κλάση υπεύθυνη μόνο για την σύνδεση στην βάση δεδομένων (MySQL Workbench), ενώ ταυτόχρονα η χρήση του access modifier(=προσδιοριστή προσπέλασης) ως public, καθιστά την κλάση αυτή να είναι προσβάσιμη σε οποιοδήποτε άλλο μέρος του προγράμματος χρησιμοποιώντας την μέθοδο getConnection(). 
    // Τα παρακάτω πεδία της κλάσης, ορίζονται ως private, που σημαίνει ότι μπορούν να προσπελαστούν και να χρησιμοποιηθούν μόνο από την ίδια την κλάση χωρίς την δυνατότητα προσπέλασης έξω από αυτή την κλάση (προστεύοντας με αυτόν τον τρόπο την δυνατότητα να μην τροποποιούνται τα πεδία-URL, USERNAME, PASSWORD-έξω από αυτή την κλάση), καθώς οι τιμές των παρακάτω πεδίων δηλώνονται ως static, που σημαίνει ότι τα πεδία αυτά ανήκουν στην κλάση και όχι σε κάποιο αντικείμενο αυτής της κλάσης, από την στιγμή που δεν κρίνεται απαραίτητη η δημιουργία DBConnection για την επίτευξη πρόσβασης σε αυτά τα πεδία. Δηλώνονται ως final τα πεδία παρακάτω καθώς οι τιμές αυτών των πεδίων δεν αλλάζουν από την στιγμή που η διεύθυνση της βάσης δεδομένων είναι σταθερή και δεν πρόκειται να αλλάξει.
	private static final String URL = "jdbc:mysql://localhost:3306/abc_logistics";		// Η σύνδεση στον SQL server επιτυγχάνεται μέσω ανάθεσης της διεύθυνσης σύνδεσης στον SQL Server στην μεταβλητή url που είναι τύπου String. Πιο συγκεκριμένα καθορίζεται ο τύπος(MySQL), το hostname(localhost-ψάξε να βρεις τον server σε αυτόν τον υπολογιστή-είναι η IP του SQL Server), η θύρα(3306-τα αιτήματα να τα στέλνεις σε αυτή την θύρα) και το όνομα της βάσης δεδομένων(abc_logistics) για την επιτυχή δημιουργία σύνδεσης μέσω JDBC.
    private static final String USER = "root";											// Ανάθεση ονόματος χρήστη(διαπιστευτηρίων) για την πρόσβαση στην βάση δεδομένων.
    private static final String PASSWORD = "Evangelia!";							// Ανάθεση κωδικού πρόσβασης για πρόσβαση στην βάση δεδομένων, καθώς το πεδίο password και το πεδίο username επιτρέπουν την επιβεβαίωση ταυτότητας του χρήστη(=authentication) κατά την σύνδεση.

    // Παρακάτω δηλώνεται μία δημόσια μέθοδος (static=>ανήκει στην κλάση), η οποία επιστρέφει ένα αντικείμενο Connection, ενώ μέσω της μεθόδου αποκρύπτονται τα εσωτερικά στοιχεία του driver, προσφέροντας την δυνατότητα abstraction σε επίπεδο εφαρμογής. 
    public static Connection getConnection() throws SQLException {		// Λόγω του access modifier ως public, είναι εφικτή η δυνατότητα κλήσης αυτής της μεθόδου από οπουδήποτε για την λήψη σύνδεσης στην βάση δεδομένων, καθώς με αυτόν τον τρόπο επιτυγχάνεται η δυνατότητα κεντρικής διαχείρισης σύνδεσης στην βάση δεδομένων, που στην ουσία οι κλάσεις αυτές(CustomerDAO, RouteDAO κλπ.), θα καλούν την DBConnection.getConnection().
        return DriverManager.getConnection(URL, USER, PASSWORD);		// Εδώ χρησιμοποιείται ο DriverManager, ο οποίος καθιστά δυνατή την σύνδεση με την βάση δεδομένων (MySQL Workbench), μέσω χρήσης του URL και των απαραίτητων credentials, καθώς η μέθοδος χρησιμοποιείται για την επιστροφή ενός αντικειμένου Connection, το οποίο μπορεί να χρησιμοποιηθεί για την εκτέλεση ερωτημάτων (queries-Statement, PreparedStatement), διαχείριση κάποιων ενδεχόμενων transactions (commit, rollback), καθώς και το κλείσιμο σύνδεσης (close()) μόλις ολοκληρωθεί η χρήση και εκμετάλλευση της βάσης δεδομένων. Μέσω της μεθόδου getConnection επιτυγχάνεται η σύνδεση στην βάση δεδομένων καθώς επιστρέφεται ένα αντικείμενο τύπου Connection. Το αντικείμενο που θα επιστραφεί από την μέθοδο getConnection(url, username, password), περιέχει πληροφορίες(που είναι ο server, πού ακούει, ποια βάση και μέσω ποιου χρήστη) για την σύνδεση. Ο κατασκευαστής της κλάσης κρατά την διαδρομή προς την βάση δεδομένων μέσω sourceURL, ονόματος χρήστη(user) και συνθηματικού password για την επιτυχή σύνδεση με την βάση δεδομένων, καθώς με αυτόν τον τρόπο δημιουργείται η σύνδεση (μεταξύ εφαρμογής και SQL Server) επιστρέφοντας ένα αντικείμενο τύπου Connection. Στην ουσία πραγματοποιείται σύνδεση(με ορίσματα url, username, password) με την πηγή των δεδομένων κατασκευάζοντας ένα περιβάλλον δημιουργίας κι εκτέλεσης των SQL εντολών καθώς το αντικείμενο Connection δημιουργείται μέσω της μεθόδου getConnection() της κλάσης DriverManager αφού όταν κληθεί η μέθοδος getConnection o DriverManager θα προσπαθήσει να τοποθετήσει τους κατάλληλους οδηγούς μεταξύ αυτών που φορτώθηκαν κατά την αρχικοποίηση και εκείνων που φορτώθηκαν ξεχωριστά χρησιμοποιώντας τον ίδιο φορτωτή κλάσης με την τρέχουσα εφαρμογή. 
    }
}
